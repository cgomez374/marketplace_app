{% extends "base.html" %}

{% block main %}
<h1>checkout</h1>
<!-- Display a payment form -->
<form id="payment-form">
    <div>
        <h3>total: $<span id="total"></span></h3>
    </div>
    <div id="address-element">
        <!-- Elements will create form elements here -->
    </div>
    <input type="text" id="email" placeholder="Enter email address" />
    <div id="payment-element">
        <!--Stripe.js injects the Payment Element-->
    </div>
    <button id="submit">
        <div class="spinner hidden" id="spinner"></div>
        <span id="button-text">Pay now</span>
    </button>
    <div id="payment-message" class="hidden"></div>
</form>
<script src="https://js.stripe.com/v3/"></script>
<script >
    const PAYMENT_INTENT_ROUTE = "{{ url_for('create_payment') }}"
    const SUCCESSFUL_PAYMENT = "http://127.0.0.1:5000/" + "{{ url_for('checkout_success') }}"
    const STRIPE_PK = "{{ stripe_pk }}"
    const GOOGLE_MAPS_KEY = "{{ google_maps_key }}"
</script>
<script src="../static/scripts/checkout.js"></script>





{% endblock %}